<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Happy Diwali ‚ú®</title>
<style>
* { margin:0; padding:0; box-sizing:border-box; }
body {
  height:100vh; width:100vw; overflow:hidden;
  display:flex; flex-direction:column; justify-content:flex-start; align-items:center;
  text-align:center; background: radial-gradient(circle at center, #ff9933, #660033);
  font-family:'Poppins', sans-serif; color:white; position:relative;
}
h1 {
  font-size:3rem; 
  color:#fffbe6;
  text-shadow:0 0 20px #ffcc00,0 0 40px #ff6600;
  animation:glow 2s infinite alternate, floatText 3s ease-in-out infinite;
  margin-top:20px; margin-bottom:40px;
}
@keyframes glow {
  from { text-shadow:0 0 20px #ffcc00,0 0 40px #ff6600;}
  to { text-shadow:0 0 35px #ffff66,0 0 60px #ff9933;}
}
@keyframes floatText {
  0%,100%{ transform: translateY(0px);}
  50%{ transform: translateY(-10px);}
}
.diya {
  width:150px;height:150px;background: radial-gradient(circle at 50% 70%, #ff9933, #cc3300);
  border-radius:50% 50% 0 0; position:relative; cursor:pointer;
  box-shadow:0 0 30px #ffcc00,0 0 70px #ff6600; transition:transform 0.3s; margin-bottom:30px;
  z-index:2;
}
.diya:hover{ transform:scale(1.1);}
.flame {
  position:absolute; top:-65px; left:50%; width:40px; height:60px;
  background:radial-gradient(circle at 50% 30%, #ffff99, #ff6600 70%);
  border-radius:50% 50% 20% 20%; transform:translateX(-50%) scale(0); opacity:0;
  animation:flicker 0.15s infinite alternate;
}
@keyframes flicker {
  0%{transform:translateX(-50%) scale(1) rotate(-1deg);opacity:1;}
  100%{transform:translateX(-50%) scale(1.1) rotate(1deg);opacity:0.9;}
}
.message {
  font-size:1.5rem; margin-top:10px; opacity:0; transform:translateY(20px);
  transition:1s ease; padding:0 20px;
  background: linear-gradient(90deg,#ffff66,#ff9933,#ff66cc,#ffcc00,#ffffff);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  animation:shine 3s linear infinite;
}
@keyframes shine {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}
.show-message{ opacity:1; transform:translateY(0); text-shadow:0 0 20px #fffdd0;}
#madeby { position:absolute; bottom:12px; font-size:1rem; color:#fffbe6; text-shadow:0 0 10px #ff6600; z-index:3;}
canvas{ position:absolute; top:0; left:0; width:100%; height:100%; z-index:1;}
.content{ position:relative; z-index:2; display:flex; flex-direction:column; align-items:center;}
</style>
</head>
<body>
<canvas id="fireworks"></canvas>
<div class="content">
<h1>üéÜ Happy Diwali üéá</h1>
<div class="diya" id="diya"><div class="flame" id="flame"></div></div>
<div class="message" id="message">Wishing You Joy, Prosperity & Bright Moments This Diwali! ‚ú®</div>
</div>
<div id="madeby">Made by ‚ù§Ô∏è SHIVAM BEDI</div>

<script>
const diya=document.getElementById('diya');
const flame=document.getElementById('flame');
const message=document.getElementById('message');
const canvas=document.getElementById('fireworks');
const ctx=canvas.getContext('2d');

let fireworks=[], rockets=[], sideRockets=[], lanterns=[], stars=[], sparkles=[], firecrackers=[], rocketTrails=[];

function resizeCanvas(){ canvas.width=window.innerWidth; canvas.height=window.innerHeight; }
resizeCanvas();
window.addEventListener('resize', resizeCanvas);
function random(min,max){ return Math.random()*(max-min)+min; }

// Firework class
class Firework{
  constructor(x,y){
    this.x=x; this.y=y; this.particles=[];
    const count=60;
    for(let i=0;i<count;i++){
      const angle=(Math.PI*2*i)/count;
      const speed=random(2,6);
      this.particles.push({x:this.x,y:this.y,speedX:Math.cos(angle)*speed,speedY:Math.sin(angle)*speed,radius:random(1.5,4),color:`hsl(${random(0,360)},100%,70%)`,life:100});
    }
  }
  update(){ 
    this.particles.forEach(p=>{ p.x+=p.speedX; p.y+=p.speedY; p.speedY+=0.05; p.life-=1.5; });
    this.particles=this.particles.filter(p=>p.life>0);
  }
  draw(ctx){ this.particles.forEach(p=>{ ctx.beginPath(); ctx.arc(p.x,p.y,p.radius,0,Math.PI*2); ctx.fillStyle=p.color; ctx.shadowColor=p.color; ctx.shadowBlur=12; ctx.fill();});}
}

// Rocket class with trails
class Rocket{
  constructor(xPos){
    this.x=xPos!==undefined?xPos:random(50,canvas.width-50); 
    this.y=canvas.height+20;
    this.speed=random(3,6); 
    this.color=`hsl(${random(0,360)},100%,70%)`;
  }
  update(){ rocketTrails.push({x:this.x, y:this.y, radius:2, color:this.color, life:20}); this.y-=this.speed; if(this.y<random(100,canvas.height/2)){ fireworks.push(new Firework(this.x,this.y)); rockets.splice(rockets.indexOf(this),1); } }
  draw(ctx){ ctx.beginPath(); ctx.arc(this.x,this.y,4,0,Math.PI*2); ctx.fillStyle=this.color; ctx.shadowColor=this.color; ctx.shadowBlur=8; ctx.fill();}
}

// Side rockets
class SideRocket{
  constructor(side){ this.side=side; this.x=side==='left'?0:canvas.width; this.y=canvas.height; this.speedX=side==='left'?random(2,5):random(-5,-2); this.speedY=random(5,8); this.color=`hsl(${random(0,360)},100%,70%)`; }
  update(){ rocketTrails.push({x:this.x, y:this.y, radius:2, color:this.color, life:20}); this.x+=this.speedX; this.y-=this.speedY; if(this.y<random(150,350)){ fireworks.push(new Firework(this.x,this.y)); sideRockets.splice(sideRockets.indexOf(this),1); } }
  draw(ctx){ ctx.beginPath(); ctx.arc(this.x,this.y,4,0,Math.PI*2); ctx.fillStyle=this.color; ctx.shadowColor=this.color; ctx.shadowBlur=10; ctx.fill(); }
}

// Rocket trail functions
function updateTrails(){ rocketTrails.forEach((t,i)=>{ t.life-=1; t.radius*=0.95; if(t.life<=0) rocketTrails.splice(i,1);}); }
function drawTrails(ctx){ rocketTrails.forEach(t=>{ ctx.beginPath(); ctx.arc(t.x,t.y,t.radius,0,Math.PI*2); ctx.fillStyle=t.color; ctx.shadowColor=t.color; ctx.shadowBlur=6; ctx.globalAlpha=t.life/20; ctx.fill(); ctx.globalAlpha=1; }); }

// Lanterns
class Lantern{ constructor(){ this.x=random(30,canvas.width-30); this.y=canvas.height+20; this.size=random(15,25); this.speed=random(0.3,0.6); this.color=`hsl(${random(30,60)},100%,80%)`; this.glow=random(8,15); this.waveOffset=random(0,Math.PI*2); this.waveSpeed=random(0.01,0.03);} update(){ this.y-=this.speed; this.x+=Math.sin(this.waveOffset)*0.8; this.waveOffset+=this.waveSpeed; if(this.y<-30) lanterns.splice(lanterns.indexOf(this),1);} draw(ctx){ ctx.beginPath(); ctx.fillStyle=this.color; ctx.shadowColor=this.color; ctx.shadowBlur=this.glow; ctx.fillRect(this.x,this.y,this.size,this.size*1.2);}}

// Stars
class Star{ constructor(){ this.x=random(0,canvas.width); this.y=random(0,canvas.height/2); this.radius=random(0.5,1.5); this.opacity=random(0.3,1); this.delta=0.01;} update(){ this.opacity+=this.delta; if(this.opacity>1||this.opacity<0.3) this.delta*=-1;} draw(ctx){ ctx.beginPath(); ctx.arc(this.x,this.y,this.radius,0,Math.PI*2); ctx.fillStyle=`rgba(255,255,255,${this.opacity})`; ctx.shadowColor='white'; ctx.shadowBlur=4; ctx.fill(); }}
stars=Array.from({length:50},()=>new Star());

// Sparkles
class Sparkle{ constructor(){ this.x=random(0,canvas.width); this.y=random(0,canvas.height); this.radius=random(1,3); this.color=`hsl(${random(0,360)},100%,80%)`; this.opacity=random(0.3,0.8); this.delta=random(0.01,0.03);} update(){ this.opacity+=this.delta; if(this.opacity>0.9||this.opacity<0.3)this.delta*=-1;} draw(ctx){ ctx.beginPath(); ctx.arc(this.x,this.y,this.radius,0,Math.PI*2); ctx.fillStyle=this.color; ctx.shadowColor=this.color; ctx.shadowBlur=10; ctx.globalAlpha=this.opacity; ctx.fill(); ctx.globalAlpha=1;}}
sparkles=Array.from({length:70},()=>new Sparkle());

// Firecrackers
class Firecracker{ constructor(){ this.x=random(20,canvas.width-20); this.y=canvas.height+20; this.size=random(5,10); this.speed=random(2,4); this.color=`hsl(${random(0,360)},100%,60%)`; } update(){ this.y-=this.speed; if(this.y<-20) firecrackers.splice(firecrackers.indexOf(this),1);} draw(ctx){ ctx.beginPath(); ctx.arc(this.x,this.y,this.size,0,Math.PI*2); ctx.fillStyle=this.color; ctx.shadowColor=this.color; ctx.shadowBlur=12; ctx.fill();}}

// Main loop
function loop(){
  ctx.clearRect(0,0,canvas.width,canvas.height);
  ctx.fillStyle='rgba(0,0,0,0.1)'; ctx.fillRect(0,0,canvas.width,canvas.height);
  fireworks.forEach((f,i)=>{ f.update(); f.draw(ctx); if(f.particles.length===0) fireworks.splice(i,1); });
  rockets.forEach(r=>{ r.update(); r.draw(ctx); });
  sideRockets.forEach(r=>{ r.update(); r.draw(ctx); });
  lanterns.forEach(l=>{ l.update(); l.draw(ctx); });
  stars.forEach(s=>{ s.update(); s.draw(ctx); });
  sparkles.forEach(s=>{ s.update(); s.draw(ctx); });
  firecrackers.forEach(f=>{ f.update(); f.draw(ctx); });
  updateTrails(); drawTrails(ctx);
  requestAnimationFrame(loop);
}
loop();

// Interactions
function createFirework(x,y){ fireworks.push(new Firework(x,y)); }
diya.addEventListener('click', ()=>{ flame.style.transform='translateX(-50%) scale(1)'; flame.style.opacity='1'; message.classList.add('show-message'); for(let i=0;i<6;i++) createFirework(random(0,window.innerWidth),random(50,window.innerHeight/2)); });
canvas.addEventListener('click',(e)=>{ createFirework(e.clientX,e.clientY); });

// Intervals
setInterval(()=>{ rockets.push(new Rocket()); lanterns.push(new Lantern()); firecrackers.push(new Firecracker()); },1200);
setInterval(()=>{ createFirework(random(50,window.innerWidth-50),random(50,window.innerHeight/2)); },1500);
setInterval(()=>{ sideRockets.push(new SideRocket('left')); sideRockets.push(new SideRocket('right')); },4000);
</script>
</body>
</html>
