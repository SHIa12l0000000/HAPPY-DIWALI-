<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Happy Diwali ‚ú®</title>
<style>
* { margin:0; padding:0; box-sizing:border-box; }
body {
  height:100vh; width:100vw; overflow:hidden;
  display:flex; flex-direction:column; justify-content:center; align-items:center; text-align:center;
  background: radial-gradient(circle at center, #ff9933, #660033);
  font-family:'Poppins', sans-serif; color:white; position:relative;
}
h1 {
  font-size:2.5rem; color:#fffbe6;
  text-shadow:0 0 15px #ffcc00, 0 0 30px #ff6600;
  animation:glow 2s infinite alternate; margin-bottom:20px;
}
@keyframes glow {
  from { text-shadow:0 0 15px #ffcc00,0 0 30px #ff6600;}
  to { text-shadow:0 0 25px #ffff66,0 0 40px #ff9933;}
}
.diya {
  width:140px;height:140px;background: radial-gradient(circle at 50% 70%, #ff9933, #cc3300);
  border-radius:50% 50% 0 0; position:relative; cursor:pointer;
  box-shadow:0 0 25px #ffcc00,0 0 60px #ff6600; transition:transform 0.3s;
}
.diya:hover{ transform:scale(1.1);}
.flame {
  position:absolute; top:-55px; left:50%; width:35px; height:55px;
  background:radial-gradient(circle at 50% 30%, #ffff99, #ff6600 70%);
  border-radius:50% 50% 20% 20%; transform:translateX(-50%) scale(0); opacity:0;
  animation:flicker 0.15s infinite alternate;
}
@keyframes flicker {
  0%{transform:translateX(-50%) scale(1) rotate(-1deg);opacity:1;}
  100%{transform:translateX(-50%) scale(1.1) rotate(1deg);opacity:0.9;}
}
.message {
  font-size:1.5rem; margin-top:25px; opacity:0; transform:translateY(20px);
  transition:1s ease; padding:0 20px;
}
.show-message{ opacity:1; transform:translateY(0); color:#fffdd0; text-shadow:0 0 15px #ffcc00;}
#madeby { position:absolute; bottom:12px; font-size:1rem; color:#fffbe6; text-shadow:0 0 10px #ff6600;}
canvas{ position:absolute; top:0; left:0; width:100%; height:100%; z-index:0;}
.content{ position:relative; z-index:2;}
</style>
</head>
<body>
<canvas id="fireworks"></canvas>
<div class="content">
<h1>üéÜ Happy Diwali üéá</h1>
<div class="diya" id="diya"><div class="flame" id="flame"></div></div>
<div class="message" id="message">Best Wishes for a Bright Diwali! ‚ú®</div>
</div>
<div id="madeby">Made by ‚ù§Ô∏è SHIVAM BEDI</div>

<script>
const diya=document.getElementById('diya');
const flame=document.getElementById('flame');
const message=document.getElementById('message');
const canvas=document.getElementById('fireworks');
const ctx=canvas.getContext('2d');

let fireworks=[], rockets=[], lanterns=[], stars=[];

function resizeCanvas(){ canvas.width=window.innerWidth; canvas.height=window.innerHeight; }
resizeCanvas();
window.addEventListener('resize', resizeCanvas);

function random(min,max){ return Math.random()*(max-min)+min; }

// Fireworks
class Firework{
  constructor(x,y){
    this.x=x; this.y=y; this.particles=[];
    const count=50;
    for(let i=0;i<count;i++){
      const angle=(Math.PI*2*i)/count;
      const speed=random(2,6);
      this.particles.push({
        x:this.x, y:this.y,
        speedX:Math.cos(angle)*speed,
        speedY:Math.sin(angle)*speed,
        radius:random(1,3),
        color:`hsl(${Math.random()*360},100%,60%)`,
        life:100
      });
    }
  }
  update(){ this.particles.forEach(p=>{ p.x+=p.speedX; p.y+=p.speedY; p.speedY+=0.05; p.life-=1.5; });
    this.particles=this.particles.filter(p=>p.life>0);}
  draw(ctx){ this.particles.forEach(p=>{ ctx.beginPath(); ctx.arc(p.x,p.y,p.radius,0,Math.PI*2); ctx.fillStyle=p.color; ctx.fill();});}
}

// Rockets
class Rocket{
  constructor(){
    this.x=random(50,canvas.width-50);
    this.y=canvas.height+20;
    this.speed=random(3,6);
    this.color=`hsl(${random(0,360)},100%,60%)`;
  }
  update(){ this.y-=this.speed; if(this.y<random(100,300)) { fireworks.push(new Firework(this.x,this.y)); rockets.splice(rockets.indexOf(this),1);} }
  draw(ctx){ ctx.beginPath(); ctx.arc(this.x,this.y,4,0,Math.PI*2); ctx.fillStyle=this.color; ctx.fill();}
}

// Lanterns
class Lantern{
  constructor(){
    this.x=random(50,canvas.width-50);
    this.y=canvas.height+20;
    this.size=random(15,25);
    this.speed=random(0.3,1);
    this.color=`hsl(${random(30,60)},100%,70%)`;
  }
  update(){ this.y-=this.speed; if(this.y<-30) lanterns.splice(lanterns.indexOf(this),1);}
  draw(ctx){ ctx.beginPath(); ctx.fillStyle=this.color; ctx.fillRect(this.x,this.y,this.size,this.size*1.2);}
}

// Stars
class Star{
  constructor(){ this.x=random(0,canvas.width); this.y=random(0,canvas.height/2); this.radius=random(0.5,1.5); this.opacity=random(0.3,1); this.delta=0.01;}
  update(){ this.opacity+=this.delta; if(this.opacity>1 || this.opacity<0.3) this.delta*=-1;}
  draw(ctx){ ctx.beginPath(); ctx.arc(this.x,this.y,this.radius,0,Math.PI*2); ctx.fillStyle=`rgba(255,255,255,${this.opacity})`; ctx.fill();}
}

for(let i=0;i<50;i++) stars.push(new Star());

function loop(){
  ctx.fillStyle='rgba(0,0,0,0.2)'; ctx.fillRect(0,0,canvas.width,canvas.height);
  fireworks.forEach((f,i)=>{ f.update(); f.draw(ctx); if(f.particles.length===0) fireworks.splice(i,1);});
  rockets.forEach(r=>{ r.update(); r.draw(ctx);});
  lanterns.forEach(l=>{ l.update(); l.draw(ctx);});
  stars.forEach(s=>{ s.update(); s.draw(ctx);});
  requestAnimationFrame(loop);
}
loop();

function createFirework(x,y){ fireworks.push(new Firework(x,y)); }
diya.addEventListener('click', ()=>{
  flame.style.transform='translateX(-50%) scale(1)';
  flame.style.opacity='1';
  message.classList.add('show-message');
  for(let i=0;i<5;i++) createFirework(random(0,window.innerWidth),random(0,window.innerHeight/2));
});

canvas.addEventListener('click',(e)=>{ createFirework(e.clientX,e.clientY); });

// Auto rockets & lanterns
setInterval(()=>{ rockets.push(new Rocket()); lanterns.push(new Lantern());},1000);
setInterval(()=>{ createFirework(random(0,window.innerWidth),random(0,window.innerHeight/2));},1200);
</script>
</body>
</html>
